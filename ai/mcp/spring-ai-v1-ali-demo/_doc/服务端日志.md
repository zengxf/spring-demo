
**启动**
11:24:18.058+08:00  INFO 33516 --- [server] [           main] .a.m.s.StreamableWebMVCServerApplication : Starting StreamableWebMVCServerApplication using Java 21.0.9 with PID 33516 (D:\MyData\pub-project\spring-demo\ai\mcp\spring-ai-v1-ali-demo\server\server\target\classes started by fiu in D:\MyData\pub-project\spring-demo\ai\mcp\spring-ai-v1-ali-demo)
11:24:19.416+08:00  INFO 33516 --- [server] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 20000 (http)
11:24:20.819+08:00  INFO 33516 --- [server] [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 13 endpoints beneath base path '/actuator'
11:24:20.906+08:00  INFO 33516 --- [server] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 20000 (http) with context path '/'
11:24:20.921+08:00  INFO 33516 --- [server] [           main] .a.m.s.StreamableWebMVCServerApplication : Started StreamableWebMVCServerApplication in 3.361 seconds (process running for 3.743)
11:24:29.143+08:00  INFO 33516 --- [server] [io-20000-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
11:24:29.143+08:00  INFO 33516 --- [server] [io-20000-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
11:24:29.144+08:00  INFO 33516 --- [server] [io-20000-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms

**MCP-初始化请求**
11:24:29.177+08:00 DEBUG 33516 --- [server] [io-20000-exec-2] io.modelcontextprotocol.spec.McpSchema   : Received JSON message: {"jsonrpc":"2.0","method":"initialize","id":"9b13d800-0","params":{"protocolVersion":"2025-06-18","capabilities":{},"clientInfo":{"name":"my-mcp-client - server1","version":"1.0.0"}}}
11:24:29.202+08:00  INFO 33516 --- [server] [io-20000-exec-2] i.m.server.McpAsyncServer                : Client initialize request - Protocol: 2025-06-18, Capabilities: ClientCapabilities[experimental=null, roots=null, sampling=null, elicitation=null], Info: Implementation[name=my-mcp-client - server1, title=null, version=1.0.0]

**session id**
11:24:29.256+08:00 DEBUG 33516 --- [server] [io-20000-exec-1] .WebMvcStreamableServerTransportProvider : Handling GET request for session: 7c245e75-5bc0-406d-865c-7a8b76cac036
11:24:29.261+08:00 DEBUG 33516 --- [server] [io-20000-exec-1] .WebMvcStreamableServerTransportProvider : Streamable session transport 7c245e75-5bc0-406d-865c-7a8b76cac036 initialized with SSE builder
11:24:29.313+08:00 DEBUG 33516 --- [server] [io-20000-exec-3] io.modelcontextprotocol.spec.McpSchema   : Received JSON message: {"jsonrpc":"2.0","method":"notifications/initialized"}
11:24:29.666+08:00 DEBUG 33516 --- [server] [io-20000-exec-4] io.modelcontextprotocol.spec.McpSchema   : Received JSON message: {"jsonrpc":"2.0","method":"tools/list","id":"9b13d800-1","params":{}}

11:24:29.668+08:00 DEBUG 33516 --- [server] [io-20000-exec-4] .WebMvcStreamableServerTransportProvider : Streamable session transport 7c245e75-5bc0-406d-865c-7a8b76cac036 initialized with SSE builder
11:24:29.690+08:00 DEBUG 33516 --- [server] [io-20000-exec-4] .WebMvcStreamableServerTransportProvider : Message sent to session 7c245e75-5bc0-406d-865c-7a8b76cac036 with ID null
11:24:29.694+08:00 DEBUG 33516 --- [server] [io-20000-exec-4] .WebMvcStreamableServerTransportProvider : Successfully completed SSE builder for session 7c245e75-5bc0-406d-865c-7a8b76cac036
11:24:29.701+08:00 DEBUG 33516 --- [server] [io-20000-exec-4] .WebMvcStreamableServerTransportProvider : Request response stream completed for session: 7c245e75-5bc0-406d-865c-7a8b76cac036
11:24:35.040+08:00 DEBUG 33516 --- [server] [io-20000-exec-5] .WebMvcStreamableServerTransportProvider : Successfully completed SSE builder for session 7c245e75-5bc0-406d-865c-7a8b76cac036

**MCP-工具调用请求**
11:32:49.960+08:00 DEBUG 33516 --- [server] [io-20000-exec-3] io.modelcontextprotocol.spec.McpSchema   : Received JSON message: {"jsonrpc":"2.0","method":"tools/call","id":"5d80154e-2","params":{"name":"getCityTimeMethod","arguments":{"timeZoneId":"America/New_York"},"_meta":{}}}
11:32:49.961+08:00 DEBUG 33516 --- [server] [io-20000-exec-3] .WebMvcStreamableServerTransportProvider : Streamable session transport 7c245e75-5bc0-406d-865c-7a8b76cac036 initialized with SSE builder
11:32:49.967+08:00  INFO 33516 --- [server] [oundedElastic-2] c.a.c.ai.mcp.server.service.TimeService  : 当前时区为 America/New_York
11:32:49.976+08:00  INFO 33516 --- [server] [oundedElastic-2] c.a.c.ai.mcp.server.service.TimeService  : 当前时间(时区)：2026-02-11 22:32:49 EST
11:32:49.993+08:00 DEBUG 33516 --- [server] [oundedElastic-2] .WebMvcStreamableServerTransportProvider : Message sent to session 7c245e75-5bc0-406d-865c-7a8b76cac036 with ID null
11:32:49.994+08:00 DEBUG 33516 --- [server] [oundedElastic-2] .WebMvcStreamableServerTransportProvider : Successfully completed SSE builder for session 7c245e75-5bc0-406d-865c-7a8b76cac036

**客户端关闭**
11:24:35.041+08:00 DEBUG 33516 --- [server] [io-20000-exec-6] .WebMvcStreamableServerTransportProvider : SSE connection completed for session: 7c245e75-5bc0-406d-865c-7a8b76cac036
11:24:35.041+08:00 DEBUG 33516 --- [server] [io-20000-exec-6] .WebMvcStreamableServerTransportProvider : Session transport 7c245e75-5bc0-406d-865c-7a8b76cac036 already closed

